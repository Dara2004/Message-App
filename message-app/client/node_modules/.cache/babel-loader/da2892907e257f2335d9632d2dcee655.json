{"ast":null,"code":"const createInitialData = newData => {\n  const accountOwner = newData.users[0];\n  const conversations = newData.allConversations.conversations;\n  const messages = {\n    editing: {\n      isEditing: false,\n      editedMessageId: null\n    }\n  };\n\n  for (const c of conversations) {\n    messages[c.otherPerson] = [];\n\n    for (const m of c.messages) {\n      messages[c.otherPerson].push({\n        is_user: accountOwner._id === m.authorID,\n        text: m.message\n      });\n    }\n  }\n\n  const contacts = newData.users.map(user => ({\n    user_id: user._id,\n    ...user\n  }));\n  return {\n    activeId: null,\n    isTyping: false,\n    selectedContactId: null,\n    typedMessage: \"\",\n    user: {\n      user_id: accountOwner._id,\n      ...accountOwner\n    },\n    messages,\n    contacts\n  };\n};\n/**\n *\n * @param {string} pic user.pic from user model\n */\n\n\nconst getProfilePicSrc = pic => {\n  return process.env.PUBLIC_URL + \"/profile_pics/\" + pic;\n};\n\nmodule.exports = {\n  createInitialData,\n  getProfilePicSrc\n};","map":{"version":3,"sources":["/Users/daranguyen/Desktop/UBC/Courses/CPSC436I/assignments/a2/Message-App/message-app/client/src/utils/functions.js"],"names":["createInitialData","newData","accountOwner","users","conversations","allConversations","messages","editing","isEditing","editedMessageId","c","otherPerson","m","push","is_user","_id","authorID","text","message","contacts","map","user","user_id","activeId","isTyping","selectedContactId","typedMessage","getProfilePicSrc","pic","process","env","PUBLIC_URL","module","exports"],"mappings":"AAAA,MAAMA,iBAAiB,GAAIC,OAAD,IAAa;AACrC,QAAMC,YAAY,GAAGD,OAAO,CAACE,KAAR,CAAc,CAAd,CAArB;AACA,QAAMC,aAAa,GAAGH,OAAO,CAACI,gBAAR,CAAyBD,aAA/C;AACA,QAAME,QAAQ,GAAG;AACfC,IAAAA,OAAO,EAAE;AACPC,MAAAA,SAAS,EAAE,KADJ;AAEPC,MAAAA,eAAe,EAAE;AAFV;AADM,GAAjB;;AAMA,OAAK,MAAMC,CAAX,IAAgBN,aAAhB,EAA+B;AAC7BE,IAAAA,QAAQ,CAACI,CAAC,CAACC,WAAH,CAAR,GAA0B,EAA1B;;AACA,SAAK,MAAMC,CAAX,IAAgBF,CAAC,CAACJ,QAAlB,EAA4B;AAC1BA,MAAAA,QAAQ,CAACI,CAAC,CAACC,WAAH,CAAR,CAAwBE,IAAxB,CAA6B;AAC3BC,QAAAA,OAAO,EAAEZ,YAAY,CAACa,GAAb,KAAqBH,CAAC,CAACI,QADL;AAE3BC,QAAAA,IAAI,EAAEL,CAAC,CAACM;AAFmB,OAA7B;AAID;AACF;;AACD,QAAMC,QAAQ,GAAGlB,OAAO,CAACE,KAAR,CAAciB,GAAd,CAAmBC,IAAD,KAAW;AAC5CC,IAAAA,OAAO,EAAED,IAAI,CAACN,GAD8B;AAE5C,OAAGM;AAFyC,GAAX,CAAlB,CAAjB;AAIA,SAAO;AACLE,IAAAA,QAAQ,EAAE,IADL;AAELC,IAAAA,QAAQ,EAAE,KAFL;AAGLC,IAAAA,iBAAiB,EAAE,IAHd;AAILC,IAAAA,YAAY,EAAE,EAJT;AAKLL,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAEpB,YAAY,CAACa,GADlB;AAEJ,SAAGb;AAFC,KALD;AASLI,IAAAA,QATK;AAULa,IAAAA;AAVK,GAAP;AAYD,CAlCD;AAoCA;;;;;;AAIA,MAAMQ,gBAAgB,GAAIC,GAAD,IAAS;AAChC,SAAOC,OAAO,CAACC,GAAR,CAAYC,UAAZ,GAAyB,gBAAzB,GAA4CH,GAAnD;AACD,CAFD;;AAIAI,MAAM,CAACC,OAAP,GAAiB;AAAEjC,EAAAA,iBAAF;AAAqB2B,EAAAA;AAArB,CAAjB","sourcesContent":["const createInitialData = (newData) => {\n  const accountOwner = newData.users[0];\n  const conversations = newData.allConversations.conversations;\n  const messages = {\n    editing: {\n      isEditing: false,\n      editedMessageId: null,\n    },\n  };\n  for (const c of conversations) {\n    messages[c.otherPerson] = [];\n    for (const m of c.messages) {\n      messages[c.otherPerson].push({\n        is_user: accountOwner._id === m.authorID,\n        text: m.message,\n      });\n    }\n  }\n  const contacts = newData.users.map((user) => ({\n    user_id: user._id,\n    ...user,\n  }));\n  return {\n    activeId: null,\n    isTyping: false,\n    selectedContactId: null,\n    typedMessage: \"\",\n    user: {\n      user_id: accountOwner._id,\n      ...accountOwner,\n    },\n    messages,\n    contacts,\n  };\n};\n\n/**\n *\n * @param {string} pic user.pic from user model\n */\nconst getProfilePicSrc = (pic) => {\n  return process.env.PUBLIC_URL + \"/profile_pics/\" + pic;\n};\n\nmodule.exports = { createInitialData, getProfilePicSrc };\n"]},"metadata":{},"sourceType":"module"}